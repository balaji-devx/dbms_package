<h2>Persons</h2>

<section class="form-section">
  <h3>Add Person</h3>

  <form action="/persons/add" method="post" class="form person-form">

    {{#if errors}}
    <div class="form-errors">
      <ul>
        {{#each errors}}
        <li>{{this}}</li>
        {{/each}}
      </ul>
    </div>
    {{/if}}

    <label>
      Name:
      <input type="text" name="name" value="{{formData.name}}" required />
    </label>

    <label>
      Mobile:
      <input type="text" name="mobile" value="{{formData.mobile}}" required />
    </label>

    <label>
      Type:
      <select name="type" required>
        <option value="">--Select--</option>
        <option value="L" {{#ifEquals formData.type "L"}}selected{{/ifEquals}}>Lender</option>
        <option value="B" {{#ifEquals formData.type "B"}}selected{{/ifEquals}}>Borrower</option>
      </select>
    </label>

    <button class="btn">Add Person</button>
  </form>
</section>

<section>
  <h3>Person List</h3>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Mobile</th>
        <th>Type</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      {{#each persons}}
      <tr>
        <td>{{this.name}}</td>
        <td>{{this.mobile}}</td>
        <td>{{this.typeLabel}}</td>
        <td>
          <a href="/persons/{{this.person_id}}/edit" class="btn small">Edit</a>
          <form action="/persons/{{this.person_id}}/delete" method="post" style="display:inline;">
            <button class="btn small">Delete</button>
          </form>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</section>
